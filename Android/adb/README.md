# adb

list the devices 

```bash
adb devices
adb devices -l
```



connect to device using Nox

```
adb connect 127.0.0.1:62001
```



connect to device using AVD android studio

```
AVD manager >> selet device >> start it
adb devices
adb -s emulator_name shell
```





when you connect to a device, connect with root privilege

```bash
adb root
```



when you connect to a device, connect with shell user

```bash
adb unroot
```



connect to the emulator

```bash
adb shell
```



roboot the emulator

```bash
adb reboot
```



if the apk is on the host device and you want to install it in the emulator

```
adb install app.apk
```



list installed packages in the emulator

``` bash
adb shell pm list packages 
```



search for specific package

```bash
adb shell pm list packages | findstr /I package_name
```



uninstall package from the emulator

```bash
adb uninstall package_name
```



send files from host to the emulator

```bash
adb push app.apk /data/local/tmp
verify >> adb shell ls /data/local/tmp
```



to download an application in the emulator

```
adb push app.apk /mnt/sdcard
cd /mnt/sdcard
pm install app.apk
```



get files from the emulator to the host 

```bash
adb pull /data/local/tmp/app.apk app.apk
```



list the processes

```bash
adb shell ps
adb shell ps | grep app_name
adb shell pidof -s package_name
```



the packages can be system packages (camera, contacts, calendar, etc...) or  third party packages

to list system packages 

```bash
adb shell pm list packages -s
```



to list 3rd party packages 

```bash
adb shell pm list packages -3
```



list packages with its path

```
adb shell pm list packages -f
```



get path of specific package

```
adb shell pm path package_name
```



take screenshot for the emulator

```
adb shell screencap -p /data/local/tmp/image_name.png
screencap >> screen capture
-p >> save image in this path and must be png 
```



backup the emulator data

```
adb backup -apk -all -f backup.ab
```



restore the backup file to the emulator

```
adb restore backup.ab
```



show the logs

```
adb logcat
adb logcat --pid=1234
adb logcat --pid=$(adb shell pidof -s package_name)
```



list logs of specific app

```
adb shell ps | findstr /I app_name
adb logcat --pid 5425
```



send an intent via adb

```
adb shell am start -a android.intent.action.VIEW -d "https://google.com" 
adb shell am start -n package_name/.activity_name
am >> activity manager
-a >> action
```



send an intent with extras

```
adb shell am start -a android.intent.action.VIEW --ei  #extra integer
adb shell am start -a android.intent.action.VIEW --es  #extra string
adb shell am start -a android.intent.action.VIEW --ez  #extra boolean
```





know the class name of the current activity

```
adb -s "127.0.0.1:5555" shell "dumpsys window" | select-string "mCurrentFocus"  #windows
OR
adb -s "127.0.0.1:5555" shell "dumpsys activity activities" | select-string "mResumedActivity"   #windows
```















- https://gist.github.com/HugoMatilla/f92682b06068b06a6f2a
- https://www.automatetheplanet.com/adb-cheat-sheet/
- https://3os.org/android/adb-cheat-sheet/
- https://devhints.io/adb









